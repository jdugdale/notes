(function(t){function e(e){for(var r,o,s=e[0],u=e[1],c=e[2],d=0,v=[];d<s.length;d++)o=s[d],i[o]&&v.push(i[o][0]),i[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);l&&l(e);while(v.length)v.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,s=1;s<n.length;s++){var u=n[s];0!==i[u]&&(r=!1)}r&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},i={app:0},a=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"034f":function(t,e,n){"use strict";var r=n("64a9"),i=n.n(r);i.a},"0a23":function(t,e,n){},5277:function(t,e,n){"use strict";var r=n("0a23"),i=n.n(r);i.a},"64a9":function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("nav",[n("ul",t._l(t.notes,function(e){return n("li",[n("a",{attrs:{href:""},on:{click:function(n){return n.preventDefault(),t.loadNote(e)}}},[t._v(t._s(e.title))])])}),0),n("hr"),n("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.addNote()}}},[t._v("+New note")]),n("p",[n("a",{directives:[{name:"show",rawName:"v-show",value:t.needSave,expression:"needSave"}],attrs:{href:"",disabled:t.isSaving},on:{click:function(e){return e.preventDefault(),t.save()}}},[t._v(t._s(t.isSaving?"Saving...":"Save"))])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.editMode,expression:"editMode"}],attrs:{id:"editor"}},[t.activeNote?n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.activeNote.text,expression:"activeNote.text"}],domProps:{value:t.activeNote.text},on:{input:function(e){e.target.composing||t.$set(t.activeNote,"text",e.target.value)}}}):t._e()]),n("div",{attrs:{id:"preview"}},[n("a",{directives:[{name:"show",rawName:"v-show",value:t.activeNote&&!t.editMode,expression:"activeNote && !editMode"}],staticClass:"edit-btn",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.edit()}}},[t._v("Edit")]),n("div",{domProps:{innerHTML:t._s(t.markdown)},on:{click:function(e){return t.edit()}}})])])},a=[],o=(n("28a5"),n("96cf"),n("3b8d")),s=(n("ac6a"),n("308d")),u=n("6bb5"),c=n("4e2b"),l=(n("4917"),n("7f7f"),n("d225")),d=n("b0b4"),v=n("9ab4"),f=n("60a3"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"note"},[n("div",{staticClass:"editor"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editText,expression:"editText"}],domProps:{value:t.editText},on:{input:[function(e){e.target.composing||(t.editText=e.target.value)},t.update]}})]),n("div",{attrs:{id:"preview"},domProps:{innerHTML:t._s(t.markdown)}})])},h=[],m=n("0e54"),b=n.n(m),g=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(s["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.editText=t.text,t}return Object(c["a"])(e,t),Object(d["a"])(e,[{key:"update",value:function(){}},{key:"markdown",get:function(){return b()(this.editText)}},{key:"name",get:function(){var t=this.editText.match(/^# (.+)/);return t&&t.length>1?t[1].substr(0,80):"New note"}}]),e}(f["c"]);v["a"]([Object(f["b"])()],g.prototype,"title",void 0),v["a"]([Object(f["b"])()],g.prototype,"text",void 0),g=v["a"]([f["a"]],g);var w=g,x=w,y=(n("5277"),n("2877")),j=Object(y["a"])(x,p,h,!1,null,"b6b1f8cc",null),O=j.exports,k=n("bc3a"),N=n.n(k),_=function(){function t(){Object(l["a"])(this,t),this.id="",this.name="",this.text=""}return Object(d["a"])(t,[{key:"title",get:function(){if(!this.text)return this.name;var t=this.text.match(/^# (.+)/);return t&&t.length>1?t[1].substr(0,80):"New note"}}]),t}(),S=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(s["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.notes=[],t.activeNote=null,t.editMode=!1,t.original="",t.isSaving=!1,t}return Object(c["a"])(e,t),Object(d["a"])(e,[{key:"loadData",value:function(t){var e=this;this.notes.splice(0,this.notes.length),t.forEach(function(t){var n=new _;n.text=t,e.notes.push(n)})}},{key:"mounted",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=window.localStorage.getItem("notes"),e&&this.loadData(e.split("||")),t.next=4,N.a.get("/api/notes");case 4:n=t.sent,this.original=n.data.join("||"),this.original!=e&&this.loadData(n.data);case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"loadNote",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.activeNote=e,this.editMode=!1;case 2:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"addNote",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=new _,e.text="# New note",this.notes.push(e),this.activeNote=e,this.edit();case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"save",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.isSaving=!0,t.next=3,N.a.post("/api/notes",this.notes.map(function(t){return t.text}));case 3:t.sent,this.editMode=!1,this.original=this.notes.map(function(t){return t.text}).join("||"),window.localStorage.setItem("notes",this.original),this.isSaving=!1;case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"edit",value:function(){this.editMode=!0,this.$el.querySelector("textarea").focus()}},{key:"markdown",get:function(){return this.activeNote?b()(this.activeNote.text):""}},{key:"name",get:function(){if(!this.activeNote)return"";var t=this.activeNote.text.match(/^# (.+)/);return t&&t.length>1?t[1].substr(0,80):"New note"}},{key:"needSave",get:function(){return this.original!=this.notes.map(function(t){return t.text}).join("||")}}]),e}(f["c"]);S=v["a"]([Object(f["a"])({components:{NoteEdit:O}})],S);var M=S,T=M,P=(n("034f"),Object(y["a"])(T,i,a,!1,null,null,null)),R=P.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(R)}}).$mount("#app")}});
//# sourceMappingURL=app.ce84c4fe.js.map